<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pinr - Travel Made Social</title>
    <link rel="icon" href="favicon-v4.png" type="image/png">
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            background-color: #ffffff;
            margin: 0;
            padding: 0;
        }

        .page-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            padding: 2rem 0;
            /* Remove horizontal padding on mobile */
            overflow-x: hidden;
            /* Prevent horizontal scroll */
        }

        .composition-container {
            position: relative;
            width: 100%;
            margin-left: auto;
            /* Push to right */
            margin-right: 0;
        }

        .base-image {
            width: 100%;
            height: auto;
            display: block;
        }

        /* Phone Overlay */
        .phone-overlay {
            position: absolute;
            top: 32%;
            left: 4%;
            width: 42%;
            height: 65%;
            background-image: url('assets/phone-final.png?v=2');
            background-size: contain;
            background-position: center;
            background-repeat: no-repeat;
            mix-blend-mode: multiply;
            z-index: 20;
        }

        /* Form Styles */
        .waitlist-container {
            position: relative;
            width: 90%;
            max-width: 360px;
            background: rgba(255, 255, 255, 0.95);
            padding: 20px 20px 6px 20px;
            border-radius: 20px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
            z-index: 40;
            text-align: center;
            margin-top: 0;
            margin-bottom: 20px;
            border: 1px solid rgba(0, 0, 0, 0.05);
        }

        .form-title {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            font-weight: 300;
            font-size: 1.1rem;
            margin-bottom: 12px;
            color: #1a1a1a;
            line-height: 1.3;
        }

        .input-group {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .email-input {
            width: 100%;
            padding: 14px 16px;
            border: 1px solid #e2e8f0;
            border-radius: 12px;
            outline: none;
            transition: all 0.2s;
            font-size: 1rem;
            background: #fff;
        }

        .email-input:focus {
            background: #fff;
            border-color: #0f172a;
        }

        .submit-btn {
            width: 100%;
            background: #0f172a;
            color: white;
            padding: 14px 16px;
            border: 1px solid #0f172a;
            border-radius: 12px;
            font-weight: 600;
            cursor: pointer;
            transition: background 0.2s;
            font-size: 1rem;
        }

        .submit-btn:hover {
            background: #1e293b;
            border-color: #1e293b;
        }

        .submit-btn:active {
            transform: scale(0.98);
        }

        /* Store Buttons */
        .store-badges {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin-top: 4px;
            margin-bottom: 12px;
            flex-wrap: nowrap;
        }

        .store-btn {
            display: flex;
            align-items: center;
            gap: 8px;
            background: #ffffff;
            color: #000;
            padding: 6px 12px;
            border-radius: 12px;
            text-decoration: none;
            transition: transform 0.2s, box-shadow 0.2s;
            border: 1px solid rgba(0, 0, 0, 0.08);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.04), 0 6px 10px rgba(0, 0, 0, 0.02);
            min-width: 0;
        }

        .store-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.06), 0 10px 15px rgba(0, 0, 0, 0.04);
        }

        .store-btn img {
            width: 22px;
            height: 22px;
            object-fit: contain;
        }

        .store-btn svg {
            width: 20px;
            height: 20px;
        }

        .btn-content {
            display: flex;
            flex-direction: column;
            align-items: flex-start;
            line-height: 1;
        }

        .btn-small-text {
            font-size: 0.5rem;
            text-transform: uppercase;
            font-weight: 500;
            color: #666;
            margin-bottom: 1px;
        }

        .btn-large-text {
            font-size: 0.85rem;
            font-weight: 600;
            letter-spacing: -0.02em;
        }

        /* ========== DESKTOP RESPONSIVE ========== */
        @media (min-width: 768px) {
            .page-container {
                justify-content: center;
                padding: 40px 20px;
                background-color: #f5f5f5;
                /* Light gray background to show card */
            }

            .landing-card {
                max-width: 700px;
                margin: 0 auto;
                background: #ffffff;
                border-radius: 24px;
                box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
                overflow: hidden;
                border: 1px solid rgba(0, 0, 0, 0.05);
            }

            .composition-container {
                width: 100%;
                margin: 0;
            }

            .bottom-section {
                margin-top: 0;
                padding: 20px;
            }

            .waitlist-container {
                max-width: 400px;
                box-shadow: none;
                border: 1px solid rgba(0, 0, 0, 0.08);
            }
        }

        @media (min-width: 1024px) {
            .landing-card {
                max-width: 800px;
            }
        }
    </style>
    <!-- Firebase -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
</head>

<body>
    <!-- Top Navigation -->
    <nav style="position: fixed; top: 0; right: 0; padding: 16px 24px; z-index: 100; display: flex; gap: 20px;">
        <a href="faq.html"
            style="color: #6b7280; font-size: 13px; text-decoration: none; font-weight: 500; transition: color 0.2s;"
            onmouseover="this.style.color='#1a1a1a'" onmouseout="this.style.color='#6b7280'">FAQ</a>
        <a href="privacy-policy.html"
            style="color: #6b7280; font-size: 13px; text-decoration: none; font-weight: 500; transition: color 0.2s;"
            onmouseover="this.style.color='#1a1a1a'" onmouseout="this.style.color='#6b7280'">Privacy Policy</a>
        <a href="terms-of-service.html"
            style="color: #6b7280; font-size: 13px; text-decoration: none; font-weight: 500; transition: color 0.2s;"
            onmouseover="this.style.color='#1a1a1a'" onmouseout="this.style.color='#6b7280'">Terms</a>
        <a href="mailto:lee@getpinr.com"
            style="color: #6b7280; font-size: 13px; text-decoration: none; font-weight: 500; transition: color 0.2s;"
            onmouseover="this.style.color='#1a1a1a'" onmouseout="this.style.color='#6b7280'">Support</a>
    </nav>

    <div class="page-container">
        <!-- Landing Card (visible boundary on desktop) -->
        <div class="landing-card">

            <!-- Top Visuals -->
            <div class="composition-container">
                <img src="assets/feature-base.png?v=2" alt="Pinr Feature Base" class="base-image">
                <div class="phone-overlay"></div>
            </div>

            <!-- Bottom Section: Store Badges + Form -->
            <div class="bottom-section flex flex-col items-center w-full">

                <!-- Builtbylee Signature -->
                <img src="assets/builtbylee-signature.png" alt="Built by Lee"
                    style="height: 48px; margin-bottom: 16px; opacity: 0.7;">

                <!-- Store Badges -->
                <div class="text-[0.6rem] text-gray-400 font-bold uppercase tracking-[0.15em] mb-1">Coming soon to</div>

                <div class="store-badges">
                    <!-- Google Play Button -->
                    <a href="#" class="store-btn">
                        <img src="assets/google-play-logo.png" alt="Google Play">
                        <div class="btn-content">
                            <span class="btn-small-text">GET IT ON</span>
                            <span class="btn-large-text">Google Play</span>
                        </div>
                    </a>

                    <!-- App Store Button -->
                    <a href="#" class="store-btn">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512" fill="currentColor">
                            <path
                                d="M318.7 268.7c-.2-36.7 16.4-64.4 50-84.8-18.8-26.9-47.2-41.7-84.7-44.6-35.5-2.8-74.3 20.7-88.5 20.7-15 0-49.4-19.7-76.4-19.7C63.3 141.2 4 184.8 4 273.5q0 39.3 14.4 81.2c12.8 36.7 59 126.7 107.2 125.2 25.2-.6 43-17.9 75.8-17.9 31.8 0 48.3 17.9 76.4 17.9 48.6-.7 90.4-82.5 102.6-119.3-65.2-30.7-61.7-90-61.7-91.9zm-56.6-164.2c27.3-32.4 24.8-61.9 24-72.5-24.1 1.4-52 16.4-67.9 34.9-17.5 19.8-27.8 44.3-25.6 71.9 26.1 2 52.3-11.4 69.5-34.3z" />
                        </svg>
                        <div class="btn-content">
                            <span class="btn-small-text" style="text-transform: none;">Download on the</span>
                            <span class="btn-large-text">App Store</span>
                        </div>
                    </a>
                </div>

                <!-- Waitlist Form -->
                <div class="waitlist-container">
                    <div class="form-title">Skip the wait, get early access to Pinr</div>

                    <form id="waitlistForm">
                        <div class="input-group">
                            <input type="email" id="email" required placeholder="Enter your email" class="email-input">
                            <button type="submit" id="submitBtn" class="submit-btn">Sign me up!</button>
                        </div>
                        <p id="feedback"
                            class="text-xs mt-3 font-medium h-4 opacity-0 transition-opacity text-green-600">
                        </p>
                    </form>
                </div>
            </div>
        </div><!-- End landing-card -->
    </div><!-- End page-container -->

    <script>
        // Firebase Config
        const firebaseConfig = {
            apiKey: "AIzaSyAHNlIbE1uCgnMz8k3E1GFSd2ed3uCT9UI",
            authDomain: "days-c4ad4.firebaseapp.com",
            projectId: "days-c4ad4",
            storageBucket: "days-c4ad4.firebasestorage.app",
            messagingSenderId: "760973100570",
            appId: "1:760973100570:web:c3cf0ea65d434fb0cef3a3"
        };
        firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();

        // Detect device platform
        function getDevicePlatform() {
            const ua = navigator.userAgent || navigator.vendor || window.opera;
            if (/android/i.test(ua)) return 'android';
            if (/iPad|iPhone|iPod/.test(ua) && !window.MSStream) return 'ios';
            if (/Macintosh|MacIntel|MacPPC|Mac68K/.test(ua)) return 'mac';
            if (/Win/.test(ua)) return 'windows';
            return 'unknown';
        }

        // Form Submit
        const form = document.getElementById('waitlistForm');
        const emailInput = document.getElementById('email');
        const submitBtn = document.getElementById('submitBtn');
        const feedback = document.getElementById('feedback');

        form.addEventListener('submit', async (e) => {
            e.preventDefault();
            const email = emailInput.value.trim();

            if (!email) return;

            submitBtn.disabled = true;
            submitBtn.innerText = "...";
            feedback.style.opacity = '0';

            try {
                const platform = getDevicePlatform();
                await db.collection('waitlist').doc(email).set({
                    email: email,
                    platform: platform,
                    userAgent: navigator.userAgent,
                    preference: 'early_access',
                    joinedAt: firebase.firestore.FieldValue.serverTimestamp(),
                    source: 'web_landing_v4',
                    emailSent: false  // Flag for Cloud Function to track
                });

                submitBtn.innerText = "âœ“";
                submitBtn.style.backgroundColor = "#22c55e";
                submitBtn.style.borderColor = "#22c55e";
                feedback.innerText = "You're in! We'll be in touch soon.";
                feedback.classList.remove('text-red-500');
                feedback.classList.add('text-green-600');
                feedback.style.opacity = '1';
                emailInput.value = '';

            } catch (error) {
                console.error("Waitlist error:", error.code, error.message);
                submitBtn.disabled = false;
                submitBtn.innerText = "Try Again";
                feedback.innerText = "Error: " + (error.message || "Please try again.");
                feedback.classList.remove('text-green-600');
                feedback.classList.add('text-red-500');
                feedback.style.opacity = '1';
            }
        });
    </script>

</body>

</html>